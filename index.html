<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valist - Minhas Avalia√ß√µes</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: #14181c;
            color: #9ab;
            line-height: 1.6;
        }

        .header {
            background-color: #1c2228;
            border-bottom: 1px solid #2c3440;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: #5ac8fa;
            text-decoration: none;
            letter-spacing: -0.5px;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: #9ab;
            text-decoration: none;
            font-size: 0.95rem;
            transition: color 0.2s;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: #5ac8fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        .hero {
            text-align: center;
            margin-bottom: 4rem;
        }

        .hero h1 {
            font-size: 2.5rem;
            color: #fff;
            margin-bottom: 0.5rem;
        }

        .hero p {
            font-size: 1.1rem;
            color: #678;
        }

        .category-section {
            margin-bottom: 4rem;
        }

        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #2c3440;
        }

        .category-header h2 {
            color: #fff;
            font-size: 1.5rem;
        }

        .view-all {
            color: #5ac8fa;
            text-decoration: none;
            font-size: 0.9rem;
            transition: opacity 0.2s;
        }

        .view-all:hover {
            opacity: 0.8;
        }

        .items-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 1.5rem;
        }

        .item-card {
            background-color: #1c2228;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .item-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 16px rgba(90, 200, 250, 0.1);
        }

        .item-image {
            width: 100%;
            aspect-ratio: 2/3;
            object-fit: cover;
            background-color: #2c3440;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .placeholder {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #2c3440 0%, #1c2228 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: #445566;
        }

        .item-info {
            padding: 1rem;
        }

        .item-name {
            font-weight: 600;
            color: #fff;
            font-size: 0.95rem;
            margin-bottom: 0.5rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .item-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
        }

        .item-rating {
            background-color: #5ac8fa;
            color: #14181c;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-weight: 700;
        }

        .item-date {
            color: #678;
        }

        .filters {
            background-color: #1c2228;
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 0.3rem;
        }

        .filter-group label {
            font-size: 0.85rem;
            color: #678;
        }

        .filter-group input,
        .filter-group select {
            background-color: #2c3440;
            border: 1px solid #445566;
            color: #9ab;
            padding: 0.5rem 0.75rem;
            border-radius: 4px;
            font-size: 0.9rem;
        }

        .filter-group input:focus,
        .filter-group select:focus {
            outline: none;
            border-color: #5ac8fa;
        }

        .category-page-header {
            margin-bottom: 2rem;
        }

        .category-page-header h1 {
            color: #fff;
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .stats {
            color: #678;
            font-size: 0.95rem;
        }

        @media (max-width: 1024px) {
            .items-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (max-width: 768px) {
            .items-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 1rem;
            }
            
            .nav-links {
                gap: 1rem;
                font-size: 0.85rem;
            }
        }

        @media (max-width: 480px) {
            .items-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="nav-container">
            <a href="#" class="logo" onclick="showPage('home')">Valist</a>
            <ul class="nav-links">
                <li><a href="#" class="active" onclick="showPage('home')">In√≠cio</a></li>
                <li><a href="#" onclick="showPage('restaurantes')">Restaurantes</a></li>
                <li><a href="#" onclick="showPage('livros')">Livros</a></li>
                <li><a href="#" onclick="showPage('animes')">Animes</a></li>
                <li><a href="#" onclick="showPage('games')">Games</a></li>
                <li><a href="#" onclick="showPage('series-filmes')">S√©ries/Filmes</a></li>
            </ul>
        </nav>
    </header>

    <main id="main-content"></main>

    <script>
        let allData = [];
        const CATEGORIES = {
            'restaurantes': 'Restaurantes',
            'livros': 'Livros',
            'animes': 'Animes',
            'games': 'Games',
            'series-filmes': 'S√©ries/Filmes'
        };

        // Dados de exemplo - SUBSTITUA PELO SEU CSV
        const sampleData = `id,categoria,nome,nota,descricao,tamanho,unidade_tamanho,data_avaliacao,ano
1,restaurantes,Pizzaria Bella,9.5,Melhor pizza da cidade com massa artesanal,1,unidade,2024-12-01,2024
2,restaurantes,Sushi House,8.0,Sushi fresco e bem preparado,1,unidade,2024-11-15,2024
3,restaurantes,Burger Station,7.5,Hamb√∫rgueres artesanais saborosos,1,unidade,2024-10-20,2024
4,livros,1984,10.0,Obra-prima dist√≥pica de Orwell,328,p√°ginas,2024-12-10,1949
5,livros,O Hobbit,9.0,Aventura fant√°stica encantadora,310,p√°ginas,2024-11-20,1937
6,livros,Sapiens,8.5,Hist√≥ria fascinante da humanidade,443,p√°ginas,2024-10-05,2011
7,animes,Steins Gate,10.0,Viagem no tempo com roteiro perfeito,24,epis√≥dios,2024-12-15,2011
8,animes,Fullmetal Alchemist,9.5,Alquimia e filosofia em perfeita harmonia,64,epis√≥dios,2024-11-25,2003
9,animes,Death Note,9.0,Gato e rato psicol√≥gico intenso,37,epis√≥dios,2024-10-30,2006
10,games,The Last of Us,10.0,Narrativa emocionante em mundo p√≥s-apocal√≠ptico,25,horas,2024-12-05,2013
11,games,Hollow Knight,9.5,Metroidvania perfeito com arte linda,40,horas,2024-11-10,2017
12,games,Celeste,9.0,Plataforma desafiador com mensagem poderosa,12,horas,2024-10-15,2018
13,series-filmes,Breaking Bad,10.0,A melhor s√©rie de todos os tempos,62,epis√≥dios,2024-12-20,2008
14,series-filmes,Inception,9.5,Thriller cerebral de Nolan,148,minutos,2024-11-05,2010
15,series-filmes,The Office,8.5,Com√©dia mockumentary hil√°ria,201,epis√≥dios,2024-10-10,2005`;

        function parseCSV(csv) {
            const lines = csv.trim().split('\n');
            const headers = lines[0].split(',');
            
            return lines.slice(1).map(line => {
                const values = line.split(',');
                const obj = {};
                headers.forEach((header, index) => {
                    obj[header.trim()] = values[index]?.trim() || '';
                });
                obj.nota = parseFloat(obj.nota);
                obj.tamanho = parseInt(obj.tamanho);
                obj.ano = parseInt(obj.ano);
                return obj;
            });
        }

        function loadData() {
            // PARA USO REAL: Carregue seu CSV aqui
            // fetch('data.csv').then(r => r.text()).then(csv => {
            //     allData = parseCSV(csv);
            //     showPage('home');
            // });
            
            allData = parseCSV(sampleData);
            showPage('home');
        }

        function getImagePath(id) {
            return `images/${id}.jpg`;
        }

        function createItemCard(item) {
            return `
                <div class="item-card">
                    <div class="item-image">
                        <img src="${getImagePath(item.id)}" 
                             alt="${item.nome}"
                             onerror="this.parentElement.innerHTML='<div class=\\'placeholder\\'>üì∑</div>'">
                    </div>
                    <div class="item-info">
                        <div class="item-name" title="${item.nome}">${item.nome}</div>
                        <div class="item-meta">
                            <span class="item-rating">${item.nota.toFixed(1)}</span>
                            <span class="item-date">${new Date(item.data_avaliacao).toLocaleDateString('pt-BR', {month: 'short', year: 'numeric'})}</span>
                        </div>
                    </div>
                </div>
            `;
        }

        function getTopItems(categoria, limit = 5) {
            return allData
                .filter(item => item.categoria === categoria)
                .sort((a, b) => {
                    if (b.nota !== a.nota) return b.nota - a.nota;
                    return new Date(b.data_avaliacao) - new Date(a.data_avaliacao);
                })
                .slice(0, limit);
        }

        function showHomePage() {
            const categories = Object.keys(CATEGORIES);
            let html = `
                <div class="container">
                    <div class="hero">
                        <h1>Valist</h1>
                        <p>Minhas avalia√ß√µes pessoais de restaurantes, livros, animes, games e s√©ries/filmes</p>
                    </div>
            `;

            categories.forEach(cat => {
                const topItems = getTopItems(cat);
                if (topItems.length === 0) return;

                html += `
                    <section class="category-section">
                        <div class="category-header">
                            <h2>${CATEGORIES[cat]}</h2>
                            <a href="#" class="view-all" onclick="showPage('${cat}')">Ver todos ‚Üí</a>
                        </div>
                        <div class="items-grid">
                            ${topItems.map(item => createItemCard(item)).join('')}
                        </div>
                    </section>
                `;
            });

            html += '</div>';
            document.getElementById('main-content').innerHTML = html;
        }

        function showCategoryPage(categoria) {
            const categoryData = allData.filter(item => item.categoria === categoria);
            
            let html = `
                <div class="container">
                    <div class="category-page-header">
                        <h1>${CATEGORIES[categoria]}</h1>
                        <p class="stats">${categoryData.length} itens avaliados</p>
                    </div>

                    <div class="filters">
                        <div class="filter-group">
                            <label>Buscar</label>
                            <input type="text" id="searchInput" placeholder="Nome do item..." onkeyup="applyFilters()">
                        </div>
                        <div class="filter-group">
                            <label>Nota m√≠nima</label>
                            <input type="number" id="minRating" min="0" max="10" step="0.5" placeholder="0" onchange="applyFilters()">
                        </div>
                        <div class="filter-group">
                            <label>Nota m√°xima</label>
                            <input type="number" id="maxRating" min="0" max="10" step="0.5" placeholder="10" onchange="applyFilters()">
                        </div>
                        <div class="filter-group">
                            <label>Ordenar por</label>
                            <select id="sortBy" onchange="applyFilters()">
                                <option value="nota-desc">Nota (maior)</option>
                                <option value="nota-asc">Nota (menor)</option>
                                <option value="nome-asc">Nome (A-Z)</option>
                                <option value="nome-desc">Nome (Z-A)</option>
                                <option value="data-desc">Data (recente)</option>
                                <option value="data-asc">Data (antiga)</option>
                            </select>
                        </div>
                    </div>

                    <div id="filteredItems" class="items-grid"></div>
                </div>
            `;

            document.getElementById('main-content').innerHTML = html;
            window.currentCategory = categoria;
            applyFilters();
        }

        function applyFilters() {
            const search = document.getElementById('searchInput')?.value.toLowerCase() || '';
            const minRating = parseFloat(document.getElementById('minRating')?.value) || 0;
            const maxRating = parseFloat(document.getElementById('maxRating')?.value) || 10;
            const sortBy = document.getElementById('sortBy')?.value || 'nota-desc';

            let filtered = allData.filter(item => 
                item.categoria === window.currentCategory &&
                item.nome.toLowerCase().includes(search) &&
                item.nota >= minRating &&
                item.nota <= maxRating
            );

            const [field, order] = sortBy.split('-');
            filtered.sort((a, b) => {
                let comparison = 0;
                if (field === 'nota') {
                    comparison = a.nota - b.nota;
                } else if (field === 'nome') {
                    comparison = a.nome.localeCompare(b.nome);
                } else if (field === 'data') {
                    comparison = new Date(a.data_avaliacao) - new Date(b.data_avaliacao);
                }
                return order === 'desc' ? -comparison : comparison;
            });

            document.getElementById('filteredItems').innerHTML = 
                filtered.map(item => createItemCard(item)).join('') || 
                '<p style="color: #678; text-align: center; padding: 2rem;">Nenhum item encontrado.</p>';
        }

        function showPage(page) {
            // Update active nav link
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.classList.remove('active');
            });
            event?.target?.classList.add('active');

            if (page === 'home') {
                showHomePage();
            } else {
                showCategoryPage(page);
            }
        }

        // Initialize
        loadData();
    </script>
</body>
</html>
